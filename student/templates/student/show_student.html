{% extends 'student/base.html' %}

{% block extra_head_content  %}
    {{ block.super }}
    <script src="http://cdn.pydata.org/bokeh/release/bokeh-0.12.0.min.js"></script>
    <link
    href="http://cdn.pydata.org/bokeh/release/bokeh-0.12.0.min.css"
    rel="stylesheet" type="text/css">
    <script type='text/javascript' src='http://www.google.com/jsapi'></script>
    <script type='text/javascript'>
      google.load('visualization', '1.1', {'packages':['corechart']});
      google.setOnLoadCallback(drawChart)

      function drawChart() {
        var data = new google.visualization.DataTable({{all_grades_json|safe}});
        var chart = new google.visualization.LineChart(document.getElementById('attend_chart_div'));

        var options = {
          title : "Grades over Time",
          lineWidth: 6,
        };

        chart.draw(data, options);
      }
    </script>
{% endblock %}

{% block content %}
<div id="page-container">

  <div class="row student-name">
    {% for student in current_student%}
    <h2>{{student.first_name}} {{student.last_name}}</h2>
    {% endfor %}
  </div>



  <div class="row" id="student-facing-grades">
      {% for key, value in current_grades_dict.items %}
      <div class="col-sm-3 grade-box">
          <div class="row">
            <h4 class="subject-heading">{{key}}</h4>
          </div>
          <div class="row icon-grade-box">
              <div class="col-sm-6 icon-img-box">
              <img class="subject-icon" src={{value.image}}
              alt="subject-icon"/>
              </div>
              <div class="col-sm-6">
              <p class="student-grade">{{value.grade}} </p>
              </div>
          </div>
      </div>
      {% endfor %}<!--end grade divs-->
    </div><!--end first row-->


    <div id='attend_chart_div' style='width: 900px; height: 500px;'></div>

</div>




{% endblock %}
